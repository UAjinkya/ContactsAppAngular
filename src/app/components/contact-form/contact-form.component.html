<div class="contact-form">
  <h3 *ngIf="contact.id === 0; else editMode">Add New Contact</h3>
  <ng-template #editMode><h3>Edit Contact</h3></ng-template>

  <form [formGroup]="contactForm" (ngSubmit)="onSave()">
    <div class="mb-3">
      <label for="firstName">First Name</label>
      <input id="firstName" type="text" formControlName="firstName" class="form-control" />
      <small class="text-danger" *ngIf="contactForm.get('firstName')?.invalid && contactForm.get('firstName')?.touched">
        First Name is required
      </small>   
    </div>

    <div class="mb-3">
      <label for="lastName">Last Name</label>
      <input id="lastName" type="text" formControlName="lastName" class="form-control" />
      <small class="text-danger" *ngIf="contactForm.get('lastName')?.invalid && contactForm.get('lastName')?.touched">
        Last Name is required
      </small>    

    </div>

    <div class="mb-3">
      <label for="email">Email</label>
      <input id="email" type="email" formControlName="email" class="form-control" />
      <div *ngIf="contactForm.get('email')?.invalid && (contactForm.get('email')?.touched)">
        <small class="text-danger"  *ngIf="contactForm.get('email')?.errors?.['required']">Email is required.</small>
        <small class="text-danger"  *ngIf="contactForm.get('email')?.errors?.['email']">Invalid email format.</small>
      </div>
      
    </div>

    <button type="submit" class="btn btn-success me-1" [disabled]="contactForm.invalid">{{ contact.id === 0 ? 'Add' : 'Save' }}</button>
    <button type="button" class="btn btn-secondary" (click)="onCancel()">Cancel</button>
  </form>
</div>
